<!doctype html>
<html>
<head>
	<title>Map of FOAF relationships</title>
	<script type="text/javascript" src="dist/vis.js"></script>
	<link href="dist/vis.css" rel="stylesheet" type="text/css">
   
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
	<link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
	<link rel="stylesheet" type="text/css" href="css/styles.css" />
</head>

<body>

<main>
	<section id="canvasArea">
		<div id="selectedContainer"></div>
		
		<div id = "mynetwork" class="vis-network" tabindex="900" style="position: relative; overflow: hidden; touch-action: pan-y; -webkit-user-select: none; -webkit-user-drag: none; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); width: 100%; height: 100%;">
			<canvas width="800" height="600" style="position: relative; touch-action: none; -webkit-user-select: none; -webkit-user-drag: none; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); width: 100%; height: 100%;"></canvas>
			<div class="vis-network-tooltip" style="left: 569px; top: 212px; visibility: hidden;">foaf:Person: Dannette Holifield</div>
		</div>

		<div id="logo"></div>
	</section>
	<aside id="detailsArea">
		<section id="generalDetails">
			<h1 id="title">Map of FOAF relationships</h1>
			<span><a id="about" href="https://github.com/asteriusj/foafiaf" target="_blank">https://github.com/asteriusj/foafiaf</a></span>
			<h5>Version: <span id="version">0.0.1</span></h5>
			<h5>Author(s): <span id="authors">TR Technology Team</span></h5>
			<h5 class="statisticDetails">Nodes: <span id="nodeCount"></span></h5>
			<h5 class="statisticDetails">Edges: <span id="edgeCount"></span></h5>

			<h3 class="accordion-trigger accordion-trigger-active" id="selection-details-trigger">Details</h3>
			<div class="accordion-container" id="selection-details">
				<div id="SelectionInformation">
					<p class="propDetails"><span id="propDetails">Select a node or edge in the graph.</span></p>
					<p id='separation' hidden>Degrees of Separation: 2</p>
					<p><input type='range' id='degreesOfSelectedNode' class='slideOption' hidden min='0' max='6' value='2' step='1' onchange='changeDegrees(this.value)'/></p>
				</div>
			</div>			
			<h3 class="accordion-trigger">Filters</h3>	
			<div id="filterOption" class="accordion-container filter hidden">
				<!--<p><input type='range' id='degreesFilter' class='slideOption' hidden min='0' max='6' value='2' step='1' onchange='changeDegrees(this.value)'/></p>-->
			</div>			
		</section>
	</aside>
</main>

<script type="text/javascript">
  // create an array with nodes
  var nodes = new vis.DataSet([{"typeOf":"skos:ConceptScheme","id":"_sector_0","label":null,"title":"skos:ConceptScheme https://foafiaf-asteriusj.c9users.io/owl/foafiaf#Sectors","group":"cubes"},{"typeOf":"skos:Concept","id":"_sector_10","label":"Business","title":"skos:Concept _sector_10 Business","group":"tag"},{"typeOf":"skos:Concept","id":"_sector_11","label":"Chambers of Commerce","title":"skos:Concept _sector_11 Chambers of Commerce","group":"tag"},{"typeOf":"skos:Concept","id":"_sector_12","label":"Largest Employers","title":"skos:Concept _sector_12 Largest Employers","group":"tag"},{"typeOf":"skos:Concept","id":"_sector_13","label":"Professional & Industry Groups","title":"skos:Concept _sector_13 Professional & Industry Groups","group":"tag"},{"typeOf":"skos:Concept","id":"_sector_14","label":"Rockford Area Economic Development Committee","title":"skos:Concept _sector_14 Rockford Area Economic Development Committee","group":"tag"},{"typeOf":"skos:Concept","id":"_sector_20","label":"Government & Agencies","title":"skos:Concept _sector_20 Government & Agencies","group":"tag"},{"typeOf":"skos:Concept","id":"_sector_201","label":"Elected Officials","title":"skos:Concept _sector_201 Elected Officials","group":"tag"},{"typeOf":"skos:Concept","id":"_sector_202","label":"Counties & Municipalties","title":"skos:Concept _sector_202 Counties & Municipalties","group":"tag"},{"typeOf":"skos:Concept","id":"_sector_203","label":"Councils & Boards","title":"skos:Concept _sector_203 Councils & Boards","group":"tag"},{"typeOf":"skos:Concept","id":"_sector_204","label":"Senior Administrators","title":"skos:Concept _sector_204 Senior Administrators","group":"tag"},{"typeOf":"skos:Concept","id":"_sector_205","label":"Public Education","title":"skos:Concept _sector_205 Public Education","group":"tag"},{"typeOf":"skos:Concept","id":"_sector_206","label":"Administrative Bodies","title":"skos:Concept _sector_206 Administrative Bodies","group":"tag"},{"typeOf":"skos:Concept","id":"_sector_261","label":"Public Safety","title":"skos:Concept _sector_261 Public Safety","group":"tag"},{"typeOf":"skos:Concept","id":"_sector_262","label":"Human Services","title":"skos:Concept _sector_262 Human Services","group":"tag"},{"typeOf":"skos:Concept","id":"_sector_263","label":"Health","title":"skos:Concept _sector_263 Health","group":"tag"},{"typeOf":"skos:Concept","id":"_sector_264","label":"Development","title":"skos:Concept _sector_264 Development","group":"tag"},{"typeOf":"skos:Concept","id":"_sector_30","label":"Non Profit","title":"skos:Concept _sector_30 Non Profit","group":"tag"},{"typeOf":"skos:Concept","id":"_sector_40","label":"Faith","title":"skos:Concept _sector_40 Faith","group":"tag"},{"typeOf":"foaf:Person","id":"_person_1","title":"foaf:Person _person_1 undefined","name":null,"group":"person"},{"typeOf":"foaf:Person","id":"_person_2","title":"foaf:Person _person_2 undefined","name":null,"group":"person"},{"typeOf":"foaf:Person","id":"_person_3","title":"foaf:Person _person_3 undefined","name":null,"group":"person"},{"typeOf":"foaf:Person","id":"_person_4","title":"foaf:Person _person_4 undefined","name":null,"group":"person"},{"typeOf":"foaf:Person","id":"_person_5","title":"foaf:Person _person_5 undefined","name":null,"group":"person"},{"typeOf":"foaf:Person","id":"_person_6","title":"foaf:Person _person_6 undefined","name":null,"group":"person"},{"typeOf":"foaf:Group","id":"_group_1","label":"Transform Rockford","title":"foaf:Group _group_1 undefined","name":"Transform Rockford","group":"group"},{"typeOf":"foaf:Organization","id":"_company_1","title":"foaf:Organization _company_1 undefined","name":null,"group":"organization"},{"typeOf":"foaf:Organization","id":"_company_2","title":"foaf:Organization _company_2 undefined","name":null,"group":"organization"},{"typeOf":"foaf:Organization","id":"_company_3","title":"foaf:Organization _company_3","name":null,"group":"organization"},{"typeOf":"foaf:topic","id":"_topics_0","title":"foaf:topic _topics_0 undefined","group":"tags"},{"typeOf":"sioc:topic","id":"_topic_1","label":"IT Management","title":"","group":"tag"},{"typeOf":"sioc:topic","id":"_topic_2","label":"Project Management","title":"","group":"tag"},{"typeOf":"sioc:topic","id":"_topic_3","label":"Software Development","title":"","group":"tag"},{"typeOf":"sioc:topic","id":"_topic_4","label":"Cloud Computing","title":"","group":"tag"},{"typeOf":"sioc:topic","id":"_topic_5","label":"Publishing and Printing","title":"","group":"tag"},{"typeOf":"schema:Projects","id":"_projects_0","label":"Projects","group":"projects"},{"typeOf":"pmbok:Project","id":"_:b0","label":"Blue Zones","title":"pmbok:Project: Blue Zone Community Project","name":"Community project to establish region as a Blue Zone","group":"project"},{"typeOf":"pmbok:Project","id":"_:b1","label":"Network Map Technical Guidence","title":"pmbok:Project: Provide technical guidance on selecting / developing Network Map tool(s)","name":null,"group":"project"},{"typeOf":"foaf:Person","id":"_:jd","title":"foaf:Person _:jd undefined","name":null,"group":"person"},{"typeOf":"pmbok:Project","id":"_:b3","label":"Project Management Technical Guidence","title":"pmbok:Project: Provide technical guidance on selecting / developing Project Management tool(s)","name":null,"group":"project"}]);

  // create an array with edges
  var edges = new vis.DataSet([{"from":"_sector_0","to":"_sector_10","arrows":{"to":"true"},"label":" < skos:topConceptOf >"},{"from":"_sector_0","to":"_sector_20","arrows":{"to":"true"},"label":" < skos:topConceptOf >"},{"from":"_sector_0","to":"_sector_30","arrows":{"to":"true"},"label":" < skos:topConceptOf >"},{"from":"_sector_0","to":"_sector_40","arrows":{"to":"true"},"label":" < skos:topConceptOf >"},{"from":"_sector_10","to":"_sector_0","arrows":{"to":"true"},"label":" < skos:broader >"},{"from":"_sector_11","to":"_sector_10","arrows":{"to":"true"},"label":" < skos:broader >"},{"from":"_sector_12","to":"_sector_10","arrows":{"to":"true"},"label":" < skos:broader >"},{"from":"_sector_13","to":"_sector_10","arrows":{"to":"true"},"label":" < skos:broader >"},{"from":"_sector_14","to":"_sector_10","arrows":{"to":"true"},"label":" < skos:broader >"},{"from":"_sector_20","to":"_sector_0","arrows":{"to":"true"},"label":" < skos:broader >"},{"from":"_sector_201","to":"_sector_20","arrows":{"to":"true"},"label":" < skos:broader >"},{"from":"_sector_202","to":"_sector_20","arrows":{"to":"true"},"label":" < skos:broader >"},{"from":"_sector_203","to":"_sector_202","arrows":{"to":"true"},"label":" < skos:broader >"},{"from":"_sector_204","to":"_sector_202","arrows":{"to":"true"},"label":" < skos:broader >"},{"from":"_sector_205","to":"_sector_20","arrows":{"to":"true"},"label":" < skos:broader >"},{"from":"_sector_206","to":"_sector_20","arrows":{"to":"true"},"label":" < skos:broader >"},{"from":"_sector_261","to":"_sector_206","arrows":{"to":"true"},"label":" < skos:broader >"},{"from":"_sector_262","to":"_sector_206","arrows":{"to":"true"},"label":" < skos:broader >"},{"from":"_sector_263","to":"_sector_206","arrows":{"to":"true"},"label":" < skos:broader >"},{"from":"_sector_264","to":"_sector_206","arrows":{"to":"true"},"label":" < skos:broader >"},{"from":"_sector_30","to":"_sector_0","arrows":{"to":"true"},"label":" < skos:broader >"},{"from":"_sector_40","to":"_sector_0","arrows":{"to":"true"},"label":" < skos:broader >"},{"from":"_person_1","to":"_person_4","arrows":{"to":"true"},"label":" < knows >"},{"from":"_person_1","to":"_person_3","arrows":{"to":"true"},"label":" < knows >"},{"from":"_person_1","to":"_person_2","arrows":{"to":"true"},"label":" < knows >"},{"from":"_person_1","to":"Moline,_Illinois","arrows":{"to":"true"},"label":" < birthPlace >"},{"from":"_person_1","to":{"type":"uri","value":"http://dbpedia.org/resource/Moline,_Illinois"},"arrows":{"to":"true"},"label":" < http://dbpedia.org/ontology/birthPlace >"},{"from":"_person_1","to":"_group_1","arrows":{"to":"true"},"label":" < member >"},{"from":"_person_1","to":"_topic_5","arrows":{"to":"true"},"label":" < interest >"},{"from":"_person_1","to":"_topic_1","arrows":{"to":"true"},"label":" < skill >"},{"from":"_person_1","to":"_topic_2","arrows":{"to":"true"},"label":" < skill >"},{"from":"_person_1","to":"_topic_3","arrows":{"to":"true"},"label":" < skill >"},{"from":"_person_1","to":"_topic_4","arrows":{"to":"true"},"label":" < skill >"},{"from":"_person_1","to":"_company_1","arrows":{"to":"true"},"label":" < owner >"},{"from":"_person_1","to":"_company_1","arrows":{"to":"true"},"label":" < ceo >"},{"from":"_person_4","to":"_topic_1","arrows":{"to":"true"},"label":" < skill >"},{"from":"_person_4","to":"_topic_2","arrows":{"to":"true"},"label":" < skill >"},{"from":"_person_5","to":"_group_1","arrows":{"to":"true"},"label":" < employedBy >"},{"from":"_person_6","to":"_group_1","arrows":{"to":"true"},"label":" < employedBy >"},{"from":"_group_1","to":"Rockford,_Illinois","arrows":{"to":"true"},"label":" < based_near >"},{"from":"_group_1","to":"_person_4","arrows":{"to":"true"},"label":" < member >"},{"from":"_group_1","to":"_person_3","arrows":{"to":"true"},"label":" < member >"},{"from":"_group_1","to":"_person_2","arrows":{"to":"true"},"label":" < member >"},{"from":"_group_1","to":"_person_1","arrows":{"to":"true"},"label":" < member >"},{"from":"_group_1","to":"_person_3","arrows":{"to":"true"},"label":" < employerOf >"},{"from":"_group_1","to":"_person_2","arrows":{"to":"true"},"label":" < employerOf >"},{"from":"_group_1","to":"_sector_30","arrows":{"to":"true"},"label":" < classification >"},{"from":"_company_1","to":"Byron,_Illinois","arrows":{"to":"true"},"label":" < based_near >"},{"from":"_company_1","to":"_person_1","arrows":{"to":"true"},"label":" < owner >"},{"from":"_company_1","to":"_person_1","arrows":{"to":"true"},"label":" < employerOf >"},{"from":"_company_2","to":"_sector_12","arrows":{"to":"true"},"label":" < classification >"},{"from":"_company_3","to":"_person_4","arrows":{"to":"true"},"label":" < employerOf >"},{"from":"_company_3","to":"_sector_12","arrows":{"to":"true"},"label":" < classification >"},{"from":"_topic_1","to":"_topics_0","arrows":{"to":"true"},"label":" < has_container >"},{"from":"_topic_2","to":"_topics_0","arrows":{"to":"true"},"label":" < has_container >"},{"from":"_topic_3","to":"_topics_0","arrows":{"to":"true"},"label":" < has_container >"},{"from":"_topic_4","to":"_topics_0","arrows":{"to":"true"},"label":" < has_container >"},{"from":"_topic_5","to":"_topics_0","arrows":{"to":"true"},"label":" < has_container >"},{"from":"_:b0","to":"_:jd","arrows":{"to":"true"},"label":" < stakeholder >"},{"from":"_:b0","to":"_projects_0","arrows":{"to":"true"},"label":" < has_container >"},{"from":"_:b1","to":"_:b3","arrows":{"to":"true"},"label":" < has_parent >"},{"from":"_:b1","to":"_projects_0","arrows":{"to":"true"},"label":" < has_container >"},{"from":"_:b3","to":"_projects_0","arrows":{"to":"true"},"label":" < has_container >"}]);
</script>

<script type="text/javascript">
	// create a network
	var container = document.getElementById('mynetwork');
	var data = {
		nodes: nodes,
		edges: edges
	};
	var options = {

		layout: {
			randomSeed: 10,
			improvedLayout:false
		},


		physics: {
		  solver: 'forceAtlas2Based',
		  maxVelocity: 10,
		  minVelocity: 1,
		},


		groups: {
		  property: {
			shape: 
			  'dot'
			,
			size: 18,
			color: 'pink'
		  },
		  
		  group: {
			shape: 'icon',
			icon: {
			  face: 'FontAwesome',
			  code: '\uf0c0',
			  size: 50,
			  color: '#57169a'
			}
		  },
		  
		  team: {
			shape: 'icon',
			icon: {
			  face: 'FontAwesome',
			  code: '\uf007',
			  size: 50,
			  color: 'grey'
			}
		  },
		  person: {
			shape: 'icon',
			icon: {
			  face: 'FontAwesome',
			  code: '\uf007',
			  size: 50,
			  color: '#aa00ff'
			}
		  },
		  
		  role: {
			shape: 'icon',
			icon: {
			  face: 'FontAwesome',
			  code: '\uf21d',
			  size: 50,
			  color: '#6E6EFD'
			}
		  },


		  organization: {
			shape: 'icon',
			icon: {
			  face: 'FontAwesome',
			  code: '\uf0e8',
			  size: 50,
			  color: 'blue'
			}
		  },   
		  orgbiz: {
			shape: 'icon',
			icon: {
			  face: 'FontAwesome',
			  code: '\uf069',
			  size: 50,
			  color: '#57169a'
			}
		  },
		  
		  orggov: {
			shape: 'icon',
			icon: {
			  face: 'FontAwesome',
			  code: '\uf19c',
			  size: 50,
			  color: 'blue'
			}
		  },
		  
		  orgnonprofit: {
			shape: 'icon',
			icon: {
			  face: 'FontAwesome',
			  code: '\uf069',
			  size: 50,
			  color: 'green'
			}
		  },
		  
		  
		  orgfaith: {
			shape: 'icon',
			icon: {
			  face: 'FontAwesome',
			  code: '\uf004',
			  size: 50,
			  color: 'cyan'
			}
		  },
		  
		  globe: {
			shape: 'icon',
			icon: {
			  face: 'Ionicons',
			  code: '\uf276',
			  size: 66,
			  color: '#6E6EFD'
			}
		  },
		  
		  marker: {
			shape: 'icon',
			icon: {
			  face: 'FontAwesome',
			  code: '\uf041',
			  size: 50,
			  color: '#FB7E81'
			}
		  },
		  
		  book: {
			shape: 'icon',
			icon: {
			  face: 'FontAwesome',
			  code: '\uf02d',
			  size: 50,
			  color: '#C2FABC'
			}
		  },
		  film: {
			shape: 'icon',
			icon: {
			  face: 'FontAwesome',
			  code: '\uf008',
			  size: 55,
			  color: '#6E6EFD'
			}
		  },
		  
		  
		  tags: {
			shape: 'icon',
			icon: {
			  face: 'FontAwesome',
			  code: '\uf02c',
			  size: 40,
			  color: 'lime'
			}
		  },
		  tag: {
			shape: 'icon',
			icon: {
			  face: 'FontAwesome',
			  code: '\uf02b',
			  size: 40,
			  color: 'lime'
			}
		  },
		  
		  projects: {
			shape: 'icon',
			icon: {
			  face: 'FontAwesome',
			  code: '\uf0ae',
			  size: 44,
			  color: '#800000'
			}
		  },
		  project: {
			shape: 'icon',
			icon: {
			  face: 'FontAwesome',
			  code: '\uf03a',
			  size: 40,
			  color: 'maroon'
			}
		  },
		  
		  bullseye: {
			shape: 'icon',
			icon: {
			  face: 'FontAwesome',
			  code: '\uf140',
			  size: 40,
			  color: 'red'
			}
		  },
		  puzzle: {
			shape: 'icon',
			icon: {
			  face: 'FontAwesome',
			  code: '\uf12e',
			  size: 40,
			  color: 'yellow'
			}
		  },
		  
		  cubes: {
			shape: 'icon',
			icon: {
			  face: 'FontAwesome',
			  code: '\uf1b3',
			  size: 44,
			  color: 'black'
			}
		  },
		  cube: {
			shape: 'icon',
			icon: {
			  face: 'FontAwesome',
			  code: '\uf1b2',
			  size: 40,
			  color: 'black'
			}
		  },
		}        
	};
	var network = new vis.Network(container, data, options);
	
	var nodesObject = nodes._data;
	var Nodes =[];
	for(var i in nodesObject) {
		if (nodesObject.hasOwnProperty(i)){
			Nodes.push(nodesObject[i]);
		}
	}	
	
	var edgesObject = edges._data;
	var Edges =[];
	for(var i in edgesObject) {
		if (edgesObject.hasOwnProperty(i)){
			Edges.push(edgesObject[i]);
		}
	}		
	 
	//  set initial nodes and edges count in title block
	document.getElementById('nodeCount').innerHTML = Nodes.length;
	document.getElementById('edgeCount').innerHTML = Edges.length;

	//  create list of each unique group type
	var groupsList = [];
	for (var i = 0; i < Nodes.length; i++) {
		Nodes[i].hidden = false;
		if(groupsList.indexOf(Nodes[i].group) === -1) groupsList.push(Nodes[i].group);
	};
	var groups = [];
	//  create filter checkbox for each unique group type	
	for (var i = 0; i < groupsList.length; i++) {
		var div = document.createElement('div');
		var checkbox = document.createElement('input');
		checkbox.type = 'checkbox';
		checkbox.className = 'toggleOption';
		checkbox.value = groupsList[i];
		checkbox.id = groupsList[i];
		checkbox.checked = true;

		var label = document.createElement('label');
		label.htmlFor = groupsList[i];
		label.appendChild(document.createTextNode(groupsList[i]));

		document.getElementById('filterOption').appendChild(div);
		div.appendChild(checkbox);
		div.appendChild(label);
		
		//    for better performance, presort nodes into group objects		
		groups[i] = {};
		groups[i].group = groupsList[i];
		groups[i].nodeIndexes = [];
		for (var j = 0; j < Nodes.length; j++) {
			if (Nodes[j].group === groups[i].group) {
				groups[i].nodeIndexes.push(j);
			}
		}		
	};  
	
	//   control visibility of accordion views
	var acc = document.getElementsByClassName('accordion-trigger');
	for (var i = 0; i < acc.length; i++) {
		acc[i].onclick = function(){
			this.classList.toggle('accordion-trigger-active');
			this.nextElementSibling.classList.toggle('hidden');
		}
	};

	//  hide or display nodes and edges depending on filter selections
	var classname = document.getElementsByClassName('toggleOption');
	var filterToggle = function() {
		var filter = this.getAttribute('value');
		var groupIndex;
		for (var i = 0; i < groups.length; i++) {
			if (groups[i].group === filter) {
				groupIndex = i;
				break;
			}
		}
		for (var j = 0; j < groups[groupIndex].nodeIndexes.length; j++) {
			var nodeNumber = groups[groupIndex].nodeIndexes[j];
			
			if (this.checked && Nodes[nodeNumber].hiddenByDegree !== true) {
				Nodes[nodeNumber].hidden = false;
			}
			else {
				Nodes[nodeNumber].hidden = true;
			}
			
			nodes.update({id:Nodes[nodeNumber].id, hidden: Nodes[nodeNumber].hidden});
		}
		countVisibleNodes();
		toggleConnectedEdges();
	};
	for (var i = 0; i < classname.length; i++) {
		classname[i].addEventListener('click', filterToggle, false);
	}

	//  network graph click event
	var selectedNode = [];
	network.on("click", function(selected){
		var details = "";
		var nodeId = selected.nodes.toString();
		var edgeId = selected.edges.toString();
		selectedNode = [];
		selectedNode.push(selected.nodes);
		//  display node or edge data in the sidebar for selected element
		if(nodeId === "" && edgeId === "") {
			details = "Select a node or edge in the graph.";
			document.getElementById('separation').style.display = 'none';
			document.getElementById('degreesOfSelectedNode').style.display = 'none';
		}
		var focalPoint = (findObjectById(nodeId, Nodes) || findObjectById(edgeId, Edges));
		for(var property in focalPoint) {
			if (focalPoint.hasOwnProperty(property) && property !== 'hidden' && property !== 'hiddenByDegree') {
				details += (property + ": " + focalPoint[property] + "<br>");
			}
		}
		document.getElementById('propDetails').innerHTML = details;
		
		//  if a node is selected, hide any nodes outside the selected number N degrees
		if(nodeId) {
			hideNodesByDegree(nodeId);
			document.getElementById('separation').style.display = 'block';
			document.getElementById('degreesOfSelectedNode').style.display = 'block';				
		}
		//  clicking off the node will restore the complete graph
		else {
			for (var i = 0; i < Nodes.length; i++) {		
				Nodes[i].hiddenByDegree = false;
				if (document.getElementById(Nodes[i].group).checked === true) {
					Nodes[i].hidden = false;
					nodes.update({id:Nodes[i].id, hidden: false});
				}
			}
			document.getElementById('nodeCount').innerHTML = Nodes.length;
			toggleConnectedEdges();		
		}
		
		//  zoom in on selected node
		var moveToOptions = {
			scale: 1.05,              // scale to animate to  (Number)
			offset: {x:0, y:0},      // offset from the center in DOM pixels (Numbers)
			animation: {             // animation object, can also be Boolean
			  duration: 1000,                 // animation duration in milliseconds (Number)
			  easingFunction: "easeInOutQuad" // Animation easing function, available are:  linear, easeInQuad, easeOutQuad, easeInOutQuad,
			}                                   // easeInCubic, easeOutCubic, easeInOutCubic, easeInQuart, easeOutQuart, easeInOutQuart,
		}                                       // easeInQuint, easeOutQuint, easeInOutQuint
		if(nodeId) network.focus(nodeId, moveToOptions);
	});

	function findObjectById(objectId, objectArray){
		for (var i=0; i < objectArray.length; i++) {
			if (objectArray[i].id === objectId) {
				return objectArray[i];
			}
		}
	}

	var hideNodesByDegree = function(nodeId) {
		//  find the connected nodes within N degrees
		var connectedNodes = [];
		connectedNodes.push(nodeId);
		var degrees = document.getElementById('degreesOfSelectedNode').value;
		for(var i = 0; i < degrees; i++) {
			var nextDegreeNodes = [];
			for(var j = 0; j < connectedNodes.length; j++) {
				nextDegreeNodes.push(network.getConnectedNodes(connectedNodes[j]));
			}
			if (nextDegreeNodes[0] != "") {
				for(var k = 0; k < nextDegreeNodes.length; k++) {
					for(var l = 0; l < nextDegreeNodes[k].length; l++) {
						if(connectedNodes.indexOf(nextDegreeNodes[k][l]) === -1) connectedNodes.push(nextDegreeNodes[k][l]);
					}
				}
			}
		}
		//  hide all nodes outside N degrees and their connected edges
		for (var i = 0; i < Nodes.length; i++) {	
			if (connectedNodes.indexOf(Nodes[i].id) !== -1) {
				if (document.getElementById(Nodes[i].group).checked === true) {
					Nodes[i].hiddenByDegree = false;
					Nodes[i].hidden = false;
				}
			}
			else {
				Nodes[i].hiddenByDegree = true;
				Nodes[i].hidden = true;
			}
			nodes.update({id:Nodes[i].id, hidden: Nodes[i].hidden});
		}
		countVisibleNodes();
		toggleConnectedEdges();
	}

	function toggleConnectedEdges() {
		var visibleEdges = 0;
		var hiddenEdgesIndexes = [];
		var visibleEdgesIndexes = [];
		for (var x = 0; x < Edges.length; x++) {
			var toNode = findObjectById(Edges[x].to, Nodes) || false;
			var fromNode = findObjectById(Edges[x].from, Nodes) || false;
			if (toNode.hidden === true || fromNode.hidden === true) {
				if (Edges[x].hidden !== true) hiddenEdgesIndexes.push(x);
				Edges[x].hidden = true;
			}
			else {
				if (Edges[x].hidden === true) visibleEdgesIndexes.push(x);
				Edges[x].hidden = false;
			}
			if (Edges[x].hidden !== true) visibleEdges ++;
		}
		for (var y = 0; y < hiddenEdgesIndexes.length; y++) {
			var edgesNumber = hiddenEdgesIndexes[y];
			edges.update({id:Edges[edgesNumber].id, hidden: true});
		}
		for (var z = 0; z < visibleEdgesIndexes.length; z++) {
			var edgesNumber = visibleEdgesIndexes[z];
			edges.update({id:Edges[edgesNumber].id, hidden: false});
		}
		document.getElementById('edgeCount').innerHTML = visibleEdges;
	}
	
	function countVisibleNodes() {
		var visibleNodes = 0;
		for (var x = 0; x < Nodes.length; x++) {
			if (Nodes[x].hidden !== true) visibleNodes ++;
		}
		document.getElementById('nodeCount').innerHTML = visibleNodes;
	}	
	
	changeDegrees = function(newValue) {
		hideNodesByDegree(selectedNode[0].toString());
		document.getElementById('separation').innerHTML = 'Degrees of Separation: ' + newValue;
	}  

</script>

</body>
</html>