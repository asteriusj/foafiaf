<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
     <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
     
    <title>T-Map Project Partition Diagram</title>
    <meta name="description" content="A visualisation of projects">
    
    <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="/ico/apple-touch-icon-57-precomposed.png">
    
    <link type="text/css" rel="stylesheet" href="/css/style.css"/>
    
    <script type="text/javascript" src="/dist/d3.js"></script>
    <script type="text/javascript" src="/dist/d3.layout.js"></script>
    <script type="text/javascript" src="/js/iw.js"></script>
	  <script type="text/javascript" src="/js/utils.js"></script>
	  
	  <script type="text/javascript" src="/js/partition.js"></script>
    <link rel="stylesheet" href="/css/partition.css">
	  
	   <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>

	   <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
     <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
     <script src="//cdnjs.cloudflare.com/ajax/libs/jqueryui-touch-punch/0.2.2/jquery.ui.touch-punch.min.js"></script>
     
	   <script src="/js/smtp.js"></script>
     <script src="/js/spin.min.js"></script>
 



    
</head>
<body>

<!-- PropSheet Data -->
<div id="propsheet_data" class="content ui-widget-content">
  <div class="propsheet-content">
    <a href="Javascript:closepropsheet();"><span class="close">&times;</span></a>
    <div class="propsheet-header">
      <h2>Entity</h2>
    </div>
    <div class="propsheet-body">

    </div>
    <div class="propsheet-footer">
      <h3></h3>
    </div>
  </div>
</div>
<div id="propsheet_data_hide">
  <a href="Javascript:closepropsheet();">
  <img src="/img/icon/1/minus.png">
  </a>
</div>
<div id="propsheet_data_show">
  <a href="Javascript:openpropsheet();">
  <img src="/img/icon/1/plus.png">
  </a>
</div>
	
<main id="mainArea">
  <h1>Project Partition View</h1>
    
    <div id="partition1">

    <div id="body">
      <div id="footer">
        <!--<div class="hint">click or option-click to descend or ascend</div>-->
        <!--<a href="" title="title here">http://mbostock.github.io/d3/talk/20111018/partition.html</a>-->
      </div>
    </div>
   
  </div>
</main>

<script language="javascript" type="text/javascript">
  document.oncontextmenu=RightMouseDown;
  document.onmousedown = mouseDown; 
  function mouseDown(e) {
      if (e.which==3) {//righClick
      //alert("Disabled - do whatever you like here..");
     }
  }
  function RightMouseDown() { return false;}
</script>

<script type="text/javascript">
const datalink = null;
//const dataURL = datalink || "../things/jsonld/combinedJSONLD.jsonld";
const dataURL = datalink || "https://s3.amazonaws.com/transformrockford/combinedJSONLD.jsonld";
function getTheData(dataURL, cb) {
    console.log('getTheData') //  retrieve graph data from jsonld file
    
    try {
    //var dataPromise = $.Deferred();
    console.log('dataURL -> ', dataURL)
    
    $.getJSON(dataURL, function(data) {
        console.log('getJSON')
        //console.log(data)
        var treeData = data
        //console.log('treeData',treeData)
        
        if (cb) cb(null, treeData )

    });
    } catch(e) {
      console.error('e',e)
    }
}  
</script>

<script type="text/javascript">
function PartitionDiagram1() {
    console.log('PartitionDiagram1')
    
    /*global getTheData*/
    /*global dataURL*/
    var result =  getTheData(dataURL, function(err, json) {
        if (err) {
          
        }
      
        var data = json;
        console.log('PartitionDiagram1 data',data)
        /*global dataReceived*/
        dataReceived(data, function(wheelJS) {
            console.log('PartitionDiagram1 wheelJS', wheelJS)
            
            // let spliced = { "name": "Top 25 by 2025", "children": wheelJS }
            // console.log('sliced', spliced)
            // wheelJS = spliced;
            
            /*global whenready*/
            whenready();    
      });
    });
    return result;
} // end PartitionDiagram1
// call initiating function
PartitionDiagram1()
</script>

<script type="text/javascript">
  const target = document.getElementById('mainArea')
  console.log('target',target)
  var spinner = new Spinner().spin(target);
  console.log('start spinner',spinner)
</script>

<!-- Trigger/Open The Modal -->
<!--<button id="panelBtn">Property Sheet</button>-->

  <!-- The Modal -->
  <!--<div id="pFloatingPanel" class="ui-widget-content modal">-->
  <!--<div id="myModal" class="modal">-->
    <!-- Modal content -->
  <!--  <div class="modal-content">-->
  <!--    <div class="modal-header">-->
  <!--      <span class="close">&times;</span>-->
  <!--      <h2>Modal Header</h2>-->
  <!--    </div>-->
  <!--    <div class="modal-body">-->
  <!--      <p>Some text in the Modal Body</p>-->
  <!--      <p>Some other text...</p>-->
  <!--    </div>-->
  <!--    <div class="modal-footer">-->
  <!--      <h3>Modal Footer</h3>-->
  <!--    </div>-->
  <!--  </div>-->
  <!--</div>-->
  <!--</div>-->

	    
    <script type="text/javascript" src="/js/propsheet.js"></script>
    <link rel="stylesheet" href="/css/propsheet.css">   
<script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    
      ga('create', 'UA-98316611-1', 'auto');
      ga('send', 'pageview');
    
  </script>
</body>
</html>
